# ðŸ¤– Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ñ‹Ð¹ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð² Ñ Telegram Ð±Ð¾Ñ‚Ð¾Ð¼ Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ.

## ðŸ“‹ Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

- ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð² (RDP, SSH, Ping)
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² (CPU, RAM, Disk)
- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Telegram
- Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
- Ð“Ð¸Ð±ÐºÐ¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº

## ðŸ—ï¸ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

monitoring/
â”œâ”€â”€ main.py # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»
â”œâ”€â”€ config.py # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (ÐÐ• Ð”ÐžÐ‘ÐÐ’Ð›Ð¯Ð¢Ð¬ Ð’ GIT!)
â”œâ”€â”€ bot_menu.py # ÐœÐµÐ½ÑŽ Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð±Ð¾Ñ‚Ð°
â”œâ”€â”€ monitor_core.py # ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
â”œâ”€â”€ requirements.txt # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Python
â”œâ”€â”€ .gitignore # Ð˜ÑÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
â””â”€â”€ extensions/ # Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸
â”œâ”€â”€ server_list.py # Ð¡Ð¿Ð¸ÑÐºÐ¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²
â”œâ”€â”€ resource_check.py # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
â”œâ”€â”€ separate_checks.py # Ð Ð°Ð·Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
â”œâ”€â”€ web_interface.py # Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
â”œâ”€â”€ single_check.py # ÐžÐ´Ð¸Ð½Ð¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
â””â”€â”€ reports.py # ÐžÑ‚Ñ‡ÐµÑ‚Ñ‹


## âš™ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
2. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ: `python -m venv venv`
3. ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ: `source venv/bin/activate`
4. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸: `pip install -r requirements.txt`
5. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ config.py Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ config.example.py
6. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ñ‹ Ðº ÑÐµÑ€Ð²ÐµÑ€Ð°Ð¼

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº

```bash
python main.py

ðŸ“ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» config.py Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ:

Ð¢Ð¾ÐºÐµÐ½ Telegram Ð±Ð¾Ñ‚Ð°

ID Ñ‡Ð°Ñ‚Ð¾Ð² Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹

Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²

ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°


**Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ config.example.py (ÑˆÐ°Ð±Ð»Ð¾Ð½ Ð´Ð»Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸):**
```bash
cat > /opt/monitoring/config.example.py << 'EOF'
import os
from datetime import time as dt_time

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Telegram Ð±Ð¾Ñ‚Ð°
TELEGRAM_TOKEN = "your_telegram_bot_token_here"
CHAT_IDS = ["your_chat_id_here"]

# Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº
CHECK_INTERVAL = 60  # ÑÐµÐºÑƒÐ½Ð´Ñ‹
MAX_FAIL_TIME = 900  # 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð² ÑÐµÐºÑƒÐ½Ð´Ð°Ñ…

# Ð¢Ð¸Ñ…Ð¸Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼ (Ð½Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‹)
SILENT_START = 20  # 20:00
SILENT_END = 9     # 9:00

# Ð’Ñ€ÐµÐ¼Ñ ÑÐ±Ð¾Ñ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð¾Ð²
DATA_COLLECTION_TIME = dt_time(8, 15)  # Ð¡Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² 8:15
REPORT_WINDOW_START = dt_time(8, 30)   # ÐžÐºÐ½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð° 8:30-8:35
REPORT_WINDOW_END = dt_time(8, 35)

# ÐŸÐ¾Ñ€Ð¾Ð³Ð¸ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
RESOURCE_THRESHOLDS = {
    "cpu_warning": 80,
    "cpu_critical": 90,
    "ram_warning": 85,
    "ram_critical": 95,
    "disk_warning": 80,
    "disk_critical": 90
}

# SSH Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
SSH_KEY_PATH = "/path/to/your/ssh/key"
SSH_USERNAME = "your_ssh_username"

# Ð¡Ð¿Ð¸ÑÐºÐ¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²
RDP_SERVERS = [
    "192.168.1.100",
    "192.168.1.101"
]

SSH_SERVERS = [
    "192.168.1.200",
    "192.168.1.201"
]

PING_SERVERS = [
    "192.168.1.50"
]

# Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Windows ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²
WINDOWS_SERVER_CREDENTIALS = {
    "windows_2025": {
        "servers": ["192.168.1.100"],
        "credentials": [
            {"username": "Administrator", "password": "your_password"}
        ]
    }
}

# Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
WEB_PORT = 5000
WEB_HOST = '0.0.0.0'

# ÐŸÑƒÑ‚Ð¸ Ðº Ñ„Ð°Ð¹Ð»Ð°Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ñ…
STATS_FILE = "/opt/monitoring/data/monitoring_stats.json"
DATA_DIR = "/opt/monitoring/data"

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
if not os.path.exists(DATA_DIR):
    os.makedirs(DATA_DIR)
EOF
